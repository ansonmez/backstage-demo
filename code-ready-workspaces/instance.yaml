apiVersion: org.eclipse.che/v1
kind: CheCluster
metadata:
  name: codeready-workspaces
  namespace: openshift-workspaces
spec:
  auth:
    identityProviderURL: >-
      https://codeready-openshift-workspaces.apps.tmp-raffa.demo.red-chesterfield.com/auth
    identityProviderRealm: codeready
    updateAdminPassword: false
    initialOpenShiftOAuthUser: true
    identityProviderContainerResources:
      limits: {}
      request: {}
    identityProviderClientId: codeready-public
    identityProviderRoute: {}
    externalIdentityProvider: false
    openShiftoAuth: true
  database:
    chePostgresContainerResources:
      limits: {}
      request: {}
    chePostgresDb: dbche
    chePostgresHostName: postgres
    chePostgresPort: '5432'
    externalDb: false
  devWorkspace:
    enable: false
  imagePuller:
    enable: false
    spec: {}
  k8s: {}
  metrics:
    enable: true
  server:
    cheLogLevel: INFO
    dashboardIngress: {}
    externalDevfileRegistry: false
    pluginRegistryIngress: {}
    cheServerRoute: {}
    devfileRegistryIngress: {}
    cheHost: codeready-openshift-workspaces.apps.tmp-raffa.demo.red-chesterfield.com
    selfSignedCert: false
    cheServerIngress: {}
    cheDebug: 'false'
    tlsSupport: true
    dashboardRoute: {}
    allowUserDefinedWorkspaceNamespaces: false
    pluginRegistryRoute: {}
    devfileRegistryRoute: {}
    externalPluginRegistry: false
    workspaceNamespaceDefault: <username>-codeready
    serverExposureStrategy: single-host
    gitSelfSignedCert: false
    useInternalClusterSVCNames: false
    cheFlavor: codeready
    customCheProperties:
      CHE_INTEGRATION_GITLAB_SERVER__ENDPOINTS: https://gitlab.apps.tmp-raffa.demo.red-chesterfield.com
      CHE_INTEGRATION_GITLAB_OAUTH__ENDPOINT: https://gitlab.apps.tmp-raffa.demo.red-chesterfield.com
  storage:
    preCreateSubPaths: true
    pvcClaimSize: 10Gi
    pvcStrategy: common